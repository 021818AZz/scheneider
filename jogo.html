<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Angolano Premium</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --vermelho: #CC092F;
            --preto: #000000;
            --amarelo: #F7D41B;
            --branco: #FFFFFF;
            --cinza-claro: #F5F5F5;
            --cinza-escuro: #333333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-image: url(fotos/bandeira.png);
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: var(--branco);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3px;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            max-width: 100%;    
            backdrop-filter: blur(10px);
            overflow-y: auto;
            position: relative;
        }

        .header {
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.4);
            color: var(--branco);
            padding: 15px 20px;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 10;
            transition: all 0.3s ease;
        }

        .header.hidden {
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo i {
            color: var(--amarelo);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid var(--amarelo);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--vermelho), var(--preto));
            color: var(--amarelo);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(247, 212, 27, 0.3);
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(247, 212, 27, 0.5);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .username {
            font-size: 1rem;
            font-weight: bold;
            display: none;
        }

        @media (min-width: 768px) {
            .username {
                display: block;
            }
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .game-active .main-content {
            padding-top: 10px;
            justify-content: flex-start;
        }

        .welcome-screen, .menu-screen, .game-screen, .profile-screen {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin: 10px 0;
        }

        .game-screen {
            justify-content: flex-start;
            padding-top: 10px;
        }

        @media (max-width: 768px) {
            .welcome-screen, .menu-screen, .game-screen, .profile-screen {
                padding: 15px;
                margin: 5px 0;
            }
            
            .main-content {
                padding: 10px;
            }
            
            .question {
                font-size: 1.2rem !important;
            }
            
            .option {
                padding: 12px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 5px;
            }
            
            .question-container {
                padding: 15px !important;
                margin-bottom: 10px;
            }
            
            .question {
                font-size: 1.1rem !important;
            }
            
            .option {
                padding: 10px;
                font-size: 0.95rem;
            }
        }

        .welcome-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--amarelo);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: var(--branco);
        }

        .profile-form {
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            width: 100%;
        }

        .form-group label {
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--amarelo);
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid var(--vermelho);
            background: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            color: var(--preto);
        }

        .avatar-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }

        .avatar-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--preto);
            color: var(--amarelo);
            font-weight: bold;
            transition: all 0.3s;
        }

        .avatar-option:hover, .avatar-option.selected {
            border-color: var(--amarelo);
            transform: scale(1.1);
        }

        .avatar-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .btn {
            padding: 15px 30px;
            border-radius: 50px;
            border: none;
            background: var(--vermelho);
            color: var(--branco);
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:hover {
            background: #a50726;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-yellow {
            background: var(--amarelo);
            color: var(--preto);
        }

        .btn-yellow:hover {
            background: #e0b906;
        }

        .btn-black {
            background: var(--preto);
            color: var(--amarelo);
        }

        .btn-black:hover {
            background: #222;
        }

        .settings {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
            justify-content: center;
            width: 100%;
        }

        .setting-group {
            flex: 1;
            min-width: 250px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--vermelho);
        }

        .setting-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--amarelo);
            font-size: 1.1rem;
        }

        select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid var(--vermelho);
            background: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            color: var(--preto);
            cursor: pointer;
        }

        .game-content {
            width: 100%;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .home-btn {
            background: var(--vermelho);
            color: var(--branco);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .home-btn:hover {
            background: #a50726;
            transform: scale(1.1);
        }

        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
            height: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: var(--amarelo);
            width: 0%;
            transition: width 0.5s ease-in-out;
            border-radius: 10px;
        }

        .question-container {
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid var(--amarelo);
            animation: fadeIn 0.5s ease-out;
            margin-bottom: 15px;
            position: sticky;
            top: 10px;
            z-index: 5;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question {
            font-size: 1.4rem;
            margin-bottom: 5px;
            color: var(--branco);
            line-height: 1.4;
        }

        .question-number {
            color: var(--amarelo);
            font-size: 1rem;
            margin-bottom: 10px;
            display: block;
        }

        .options {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        @media (max-width: 600px) {
            .options {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-size: 1.1rem;
            transition: all 0.3s;
            color: var(--branco);
            backdrop-filter: blur(5px);
            animation: slideIn 0.5s ease-out;
            animation-fill-mode: both;
        }

        .option:nth-child(1) { animation-delay: 0.1s; }
        .option:nth-child(2) { animation-delay: 0.2s; }
        .option:nth-child(3) { animation-delay: 0.3s; }
        .option:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--vermelho);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4caf50;
            color: #fff;
            animation: pulseCorrect 0.5s;
        }

        @keyframes pulseCorrect {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.3);
            border-color: #f44336;
            color: #fff;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .help-section {
            width: 100%;
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid var(--amarelo);
        }

        .help-section h3 {
            color: var(--amarelo);
            margin-bottom: 15px;
            font-size: 1.2rem;
            text-align: center;
        }

        .help-buttons {
            display: flex;
            gap: 12px;
            width: 100%;
            justify-content: space-between;
            flex-direction: row;
        }

        /* Garantir que os bot√µes de ajuda fiquem sempre em linha, mesmo em telas pequenas */
        @media (max-width: 600px) {
            .help-buttons {
                flex-direction: row;
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 5px;
            }
            
            .help-btn {
                flex-shrink: 0;
                min-width: 80px;
            }
        }

        .help-btn {
            padding: 8px;
            border-radius: 12px;
            font-size: 0.95rem;
            background: linear-gradient(135deg, var(--preto), var(--vermelho));
            color: var(--amarelo);
            border: 2px solid var(--amarelo);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
            min-height: 80%;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            flex: 1;
        }

        .help-btn i {
            font-size: 1.5rem;
        }

        .help-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, var(--amarelo), #e0b906);
            color: var(--preto);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .help-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, var(--preto) 0%, var(--vermelho) 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 3px solid var(--amarelo);
            animation: modalAppear 0.5s ease-out;
        }

        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal h2 {
            color: var(--amarelo);
            margin-bottom: 15px;
            font-size: 2.2rem;
        }

        .modal p {
            margin-bottom: 25px;
            font-size: 1.3rem;
            color: var(--branco);
        }

        .score-display {
            font-size: 3rem;
            color: var(--amarelo);
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .modal-btn {
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .restart-btn {
            background: var(--amarelo);
            color: var(--preto);
            border: none;
        }

        .restart-btn:hover {
            background: #e0b906;
            transform: translateY(-3px);
        }

        .menu-btn {
            background: transparent;
            color: var(--branco);
            border: 2px solid var(--branco);
        }

        .menu-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        .hidden {
            display: none !important;
        }

        .avatar-upload {
            display: none;
        }
        
        .upload-label {
            display: block;
            padding: 10px 15px;
            background: var(--vermelho);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .upload-label:hover {
            background: #a50726;
        }
        
        .timer-container {
            text-align: center;
            display: flex;
            align-items: center;
        }
        
        .timer {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--amarelo);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            padding: 8px 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50px;
            display: inline-block;
            min-width: 100px;
        }
        
        .timer.warning {
            color: #ff5252;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .mode-selector-btn {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--vermelho);
            color: var(--branco);
            font-size: 1.1rem;
            cursor: pointer;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .mode-selector-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .mode-selector-btn i {
            transition: transform 0.3s;
        }
        
        .mode-selector-btn.expanded i {
            transform: rotate(180deg);
        }
        
        .mode-modal {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.9);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
            z-index: 100;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--amarelo);
        }
        
        .mode-option {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .mode-option:hover {
            background: var(--vermelho);
        }
        
        .mode-option.selected {
            background: var(--amarelo);
            color: var(--preto);
            font-weight: bold;
        }
        
        .mode-option:last-child {
            margin-bottom: 0;
        }
        
        .mode-group {
            position: relative;
            width: 100%;
        }
        
        .points-display {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid var(--amarelo);
            width: 100%;
        }
        
        .points-display h3 {
            color: var(--amarelo);
            margin-bottom: 10px;
        }
        
        .points-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--amarelo);
        }
        
        /* Novas regras para o layout modificado */
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .question-content {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container" id="main-container">
        <div class="header" id="header">
            <div class="logo">
                <i class="fas fa-flag"></i>
                <span>Quiz Angolano</span>
            </div>
            <div class="user-info">
                <div class="username" id="username-display">Jogador</div>
                <div class="user-avatar" id="user-avatar-btn">
                    <div id="avatar-placeholder">AO</div>
                </div>
            </div>
        </div>

        <div class="main-content" id="main-content">
            <!-- Tela de Boas-vindas -->
            <div class="welcome-screen" id="welcome-screen">
                <h1 class="welcome-title">üá¶üá¥ Quiz Angolano</h1>
                <p class="welcome-subtitle">Teste seus conhecimentos sobre Angola de forma divertida!</p>
                <button class="btn btn-yellow" id="start-btn">
                    <i class="fas fa-play"></i> Come√ßar
                </button>
            </div>

            <!-- Tela de Perfil -->
            <div class="profile-screen hidden" id="profile-screen">
                <h2 class="welcome-title">Personalize seu perfil</h2>
                <p class="welcome-subtitle">Como devemos chamar voc√™?</p>
                
                <div class="profile-form">
                    <div class="form-group">
                        <label for="username">Nome de usu√°rio:</label>
                        <input type="text" id="username" placeholder="Digite seu nome" maxlength="15">
                    </div>
                    
                    <div class="form-group">
                        <label>Escolha seu avatar:</label>
                        <div class="avatar-options">
                            <div class="avatar-option selected" data-avatar="AO">
                                <span>AO</span>
                            </div>
                            <div class="avatar-option" data-avatar="üá¶üá¥">
                                <span>üá¶üá¥</span>
                            </div>
                            <div class="avatar-option" data-avatar="üëë">
                                <span>üëë</span>
                            </div>
                            <div class="avatar-option" data-avatar="‚≠ê">
                                <span>‚≠ê</span>
                            </div>
                        </div>
                        
                        <label for="avatar-upload" class="upload-label">
                            <i class="fas fa-upload"></i> Enviar foto
                        </label>
                        <input type="file" id="avatar-upload" class="avatar-upload" accept="image/*">
                    </div>
                    
                    <button class="btn btn-yellow" id="save-profile-btn">
                        <i class="fas fa-check"></i> Salvar e Continuar
                    </button>
                </div>
                
                <div class="points-display">
                    <h3>Pontua√ß√£o Total</h3>
                    <div class="points-value" id="total-points">0 pontos</div>
                </div>
            </div>

            <!-- Tela de Menu -->
            <div class="menu-screen hidden" id="menu-screen">
                <h2 class="welcome-title">üéÆ Jogo da Banda</h2>
                <p class="welcome-subtitle">Escolha como quer jogar</p>
                
                <div class="mode-group">
                    <label>Modo de Jogo:</label>
                    <div class="mode-selector-btn" id="mode-selector-btn">
                        <span id="selected-mode-text">Cl√°ssico</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="mode-modal" id="mode-modal">
                        <div class="mode-option selected" data-mode="classic">Cl√°ssico</div>
                        <div class="mode-option" data-mode="timed">Contra o Tempo</div>
                        <div class="mode-option" data-mode="survival">Modo Sobreviv√™ncia</div>
                    </div>
                </div>
                
                <div class="settings">
                    <div class="setting-group">
                        <label for="difficulty">N√≠vel de Dificuldade:</label>
                        <select id="difficulty">
                            <option value="easy">F√°cil</option>
                            <option value="medium">M√©dio</option>
                            <option value="hard">Dif√≠cil</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn btn-yellow" id="play-btn">
                    <i class="fas fa-play"></i> Jogar
                </button>
            </div>

            <!-- Tela de Jogo -->
            <div class="game-screen hidden" id="game-screen">
                <div class="question-container">
                    <!-- Header movido para dentro do container de perguntas -->
                    <div class="question-header">
                        <button class="home-btn" id="home-btn-game">
                            <i class="fas fa-home"></i>
                        </button>
                        <div class="timer-container">
                            <div class="timer" id="timer">00:30</div>
                        </div>
                         <span class="question-number" id="question-number">Pergunta 1 de 15</span>
                    </div>
                    
                    <div class="question-content">
                       
                        <h2 class="question" id="question"></h2>
                    </div>
                    
                     <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                </div>

               

                <div class="options" id="options"></div>

                <div class="help-section">
                    <h3><i class="fas fa-hand-holding-heart"></i> Ajudas Dispon√≠veis</h3>
                    <div class="help-buttons">
                        <button class="help-btn" id="skip-btn">
                            <i class="fas fa-forward"></i>
                            <span>Pular</span>
                        </button>
                        <button class="help-btn" id="reduce-btn">
                            <i class="fas fa-minus-circle"></i>
                            <span>-2 Op√ß√µes</span>
                        </button>
                        <button class="help-btn" id="correct-btn">
                            <i class="fas fa-lightbulb"></i>
                            <span>Resposta</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Resultados -->
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <h2 id="result-title">Parab√©ns!</h2>
            <p id="result-message">Voc√™ completou o quiz!</p>
            <div class="score-display" id="score">0</div>
            <div class="modal-buttons">
                <button class="modal-btn restart-btn" id="restart-btn">
                    <i class="fas fa-redo"></i> Jogar Novamente
                </button>
                <button class="modal-btn menu-btn" id="menu-btn">
                    <i class="fas fa-home"></i> Menu
                </button>
            </div>
        </div>
    </div>

    <script>
        // Dados do quiz - perguntas sobre Angola (EXPANDIDO)
        const questions = {
            easy: [
                {
                    question: "Qual √© a capital de Angola?",
                    options: ["Luanda", "Huambo", "Lobito", "Benguela"],
                    answer: 0
                },
                {
                    question: "Qual √© a moeda de Angola?",
                    options: ["Kwanza", "D√≥lar", "Euro", "Rand"],
                    answer: 0
                },
                {
                    question: "Que oceano banha Angola?",
                    options: ["Atl√¢ntico", "√çndico", "Pac√≠fico", "√Årtico"],
                    answer: 0
                },
                {
                    question: "Qual √© a l√≠ngua oficial de Angola?",
                    options: ["Portugu√™s", "Umbundo", "Kimbundo", "Kikongo"],
                    answer: 0
                },
                {
                    question: "Quando Angola celebrou sua independ√™ncia?",
                    options: ["11 de Novembro de 1975", "1 de Dezembro de 1975", "25 de Abril de 1974", "10 de Setembro de 1976"],
                    answer: 0
                },
                {
                    question: "Qual √© a cor predominante na bandeira de Angola?",
                    options: ["Vermelho", "Verde", "Azul", "Amarelo"],
                    answer: 0
                },
                {
                    question: "Qual animal est√° representado na bandeira de Angola?",
                    options: ["Palanca Negra", "Le√£o", "Elefante", "Guepardo"],
                    answer: 0
                },
                {
                    question: "Qual √© o principal rio de Angola?",
                    options: ["Rio Kwanza", "Rio Congo", "Rio Zambeze", "Rio Cunene"],
                    answer: 0
                },
                {
                    question: "Quantas estrelas tem a bandeira de Angola?",
                    options: ["1", "2", "3", "5"],
                    answer: 0
                },
                {
                    question: "Qual √© o s√≠mbolo que aparece junto com a estrela na bandeira?",
                    options: ["Catana e engrenagem", "Palanca", "Sol", "Machado"],
                    answer: 0
                },
                {
                    question: "Qual √© a segunda maior cidade de Angola?",
                    options: ["Huambo", "Benguela", "Lubango", "Lobito"],
                    answer: 0
                },
                {
                    question: "Qual destas √© uma prov√≠ncia de Angola?",
                    options: ["Cabinda", "Maputo", "Harare", "Kinshasa"],
                    answer: 0
                },
                {
                    question: "Qual √© o prato t√≠pico angolano mais conhecido?",
                    options: ["Muamba de Galinha", "Feijoada", "Cachupa", "Matapa"],
                    answer: 0
                },
                {
                    question: "Qual destes pa√≠ses faz fronteira com Angola?",
                    options: ["Nam√≠bia", "Tanz√¢nia", "Mo√ßambique", "Zimbabu√©"],
                    answer: 0
                },
                {
                    question: "Qual √© o clima predominante em Luanda?",
                    options: ["Tropical", "√Årido", "Temperado", "Polar"],
                    answer: 0
                }
            ],
            medium: [
                {
                    question: "Qual √© o ponto mais alto de Angola?",
                    options: ["Morro do Moco", "Serra da Leba", "Morro de Vavele", "Serra da Chela"],
                    answer: 0
                },
                {
                    question: "Qual destes √© um s√≠mbolo nacional de Angola?",
                    options: ["Palanca Negra Gigante", "Elefante", "Guepardo", "Le√£o"],
                    answer: 0
                },
                {
                    question: "Qual √© o principal produto de exporta√ß√£o de Angola?",
                    options: ["Petr√≥leo", "Diamantes", "Caf√©", "Peixe"],
                    answer: 0
                },
                {
                    question: "Quantas prov√≠ncias tem Angola?",
                    options: ["18", "15", "20", "12"],
                    answer: 0
                },
                {
                    question: "Qual √© o maior parque nacional de Angola?",
                    options: ["Parque Nacional do Iona", "Parque Nacional da Qui√ßama", "Parque Nacional da Cameia", "Parque Nacional do Bicuar"],
                    answer: 0
                },
                {
                    question: "Qual destas dan√ßas √© t√≠pica de Angola?",
                    options: ["Semba", "Samba", "Tango", "Flamenco"],
                    answer: 0
                },
                {
                    question: "Qual √© o deserto localizado no sul de Angola?",
                    options: ["Deserto do Namibe", "Deserto do Kalahari", "Deserto do Saara", "Deserto da Nam√≠bia"],
                    answer: 0
                },
                {
                    question: "Qual √© a capital da prov√≠ncia de Benguela?",
                    options: ["Benguela", "Lobito", "Catumbela", "Ba√≠a Farta"],
                    answer: 0
                },
                {
                    question: "Qual foi a pot√™ncia colonial que dominou Angola?",
                    options: ["Portugal", "Espanha", "Fran√ßa", "Inglaterra"],
                    answer: 0
                },
                {
                    question: "Qual √© o estilo musical que teve origem em Angola?",
                    options: ["Kizomba", "Samba", "Reggae", "Salsa"],
                    answer: 0
                },
                {
                    question: "Qual √© a Quedas de √°gua mais famosas de Angola?",
                    options: ["Quedas de Kalandula", "Quedas do Ni√°gara", "Quedas Vit√≥ria", "Quedas do Igua√ßu"],
                    answer: 0
                },
                {
                    question: "Qual √© a bebida tradicional feita de farinha de milho?",
                    options: ["Kiss√¢ngua", "Caipirinha", "Sangria", "Chibuku"],
                    answer: 0
                },
                {
                    question: "Qual √© o significado da estrela na bandeira angolana?",
                    options: ["Solidariedade internacional", "Liberdade", "Paz", "Esperan√ßa"],
                    answer: 0
                },
                {
                    question: "Qual √© a prov√≠ncia diamant√≠fera de Angola?",
                    options: ["Lunda Norte", "Luanda", "Huambo", "Benguela"],
                    answer: 0
                },
                {
                    question: "Qual √© o principal porto de Angola?",
                    options: ["Porto de Luanda", "Porto de Lobito", "Porto de Namibe", "Porto de Cabinda"],
                    answer: 0
                }
            ],
            hard: [
                {
                    question: "Quem foi o primeiro presidente de Angola?",
                    options: ["Agostinho Neto", "Jos√© Eduardo dos Santos", "Jonas Savimbi", "Holden Roberto"],
                    answer: 0
                },
                {
                    question: "Qual rio forma parte da fronteira norte de Angola?",
                    options: ["Rio Congo", "Rio Zambeze", "Rio Kwanza", "Rio Cunene"],
                    answer: 0
                },
                {
                    question: "Qual destes pa√≠ses N√ÉO faz fronteira com Angola?",
                    options: ["Tanz√¢nia", "Z√¢mbia", "Rep√∫blica Democr√°tica do Congo", "Nam√≠bia"],
                    answer: 0
                },
                {
                    question: "Em que ano foi assinado o Acordo de Paz de Luena?",
                    options: ["2002", "1992", "1994", "2000"],
                    answer: 0
                },
                {
                    question: "Qual √© a capital da prov√≠ncia de Hu√≠la?",
                    options: ["Lubango", "Huambo", "Menongue", "Saurimo"],
                    answer: 0
                },
                {
                    question: "Qual destes √© um instrumento musical tradicional angolano?",
                    options: ["Dikanza", "Berimbau", "Marimba", "Cavaquinho"],
                    answer: 0
                },
                {
                    question: "Qual √© a data do in√≠cio da Luta Armada de Liberta√ß√£o Nacional?",
                    options: ["4 de Fevereiro de 1961", "11 de Novembro de 1975", "15 de Outubro de 1963", "10 de Dezembro de 1956"],
                    answer: 0
                },
                {
                    question: "Qual √© o grupo √©tnico mais numeroso em Angola?",
                    options: ["Ovimbundu", "Bakongo", "Kimbundu", "Tchokwe"],
                    answer: 0
                },
                {
                    question: "Em que ano foi fundado o MPLA?",
                    options: ["1956", "1961", "1975", "1950"],
                    answer: 0
                },
                {
                    question: "Qual √© o nome do poeta que se tornou primeiro presidente?",
                    options: ["Ant√≥nio Agostinho Neto", "Viriato da Cruz", "M√°rio Pinto de Andrade", "Alda Lara"],
                    answer: 0
                },
                {
                    question: "Qual √© a altitude aproximada do Morro do Moco?",
                    options: ["2.620 metros", "3.000 metros", "2.000 metros", "1.800 metros"],
                    answer: 0
                },
                {
                    question: "Qual foi o nome colonial de Cabinda?",
                    options: ["Cabinda", "Congo Portugu√™s", "Mo√ß√¢medes", "S√° da Bandeira"],
                    answer: 0
                },
                {
                    question: "Qual √© a extens√£o aproximada da costa angolana?",
                    options: ["1.650 km", "2.000 km", "1.200 km", "1.000 km"],
                    answer: 0
                },
                {
                    question: "Qual √© o nome do acordo que p√¥s fim √† guerra civil?",
                    options: ["Acordo de Luena", "Acordo de Bicesse", "Protocolo de Lusaka", "Acordo de Alvor"],
                    answer: 0
                },
                {
                    question: "Qual √© a popula√ß√£o aproximada de Angola?",
                    options: ["Mais de 30 milh√µes", "20 milh√µes", "15 milh√µes", "50 milh√µes"],
                    answer: 0
                }
            ]
        };

        // Elementos DOM
        const welcomeScreen = document.getElementById('welcome-screen');
        const profileScreen = document.getElementById('profile-screen');
        const menuScreen = document.getElementById('menu-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultModal = document.getElementById('result-modal');
        const startBtn = document.getElementById('start-btn');
        const saveProfileBtn = document.getElementById('save-profile-btn');
        const playBtn = document.getElementById('play-btn');
        const usernameInput = document.getElementById('username');
        const usernameDisplay = document.getElementById('username-display');
        const avatarPlaceholder = document.getElementById('avatar-placeholder');
        const avatarOptions = document.querySelectorAll('.avatar-option');
        const userAvatarBtn = document.getElementById('user-avatar-btn');
        const avatarUpload = document.getElementById('avatar-upload');
        const difficultySelect = document.getElementById('difficulty');
        const questionElement = document.getElementById('question');
        const questionNumberElement = document.getElementById('question-number');
        const optionsElement = document.getElementById('options');
        const progressBar = document.getElementById('progress-bar');
        const skipBtn = document.getElementById('skip-btn');
        const reduceBtn = document.getElementById('reduce-btn');
        const correctBtn = document.getElementById('correct-btn');
        const scoreElement = document.getElementById('score');
        const restartBtn = document.getElementById('restart-btn');
        const menuBtn = document.getElementById('menu-btn');
        const header = document.getElementById('header');
        const mainContainer = document.getElementById('main-container');
        const timerElement = document.getElementById('timer');
        const modeSelectorBtn = document.getElementById('mode-selector-btn');
        const modeModal = document.getElementById('mode-modal');
        const modeOptions = document.querySelectorAll('.mode-option');
        const selectedModeText = document.getElementById('selected-mode-text');
        const totalPointsElement = document.getElementById('total-points');
        const resultTitle = document.getElementById('result-title');
        const resultMessage = document.getElementById('result-message');
        const homeBtnGame = document.getElementById('home-btn-game');

        // Vari√°veis do jogo
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let usedSkip = false;
        let usedReduce = false;
        let usedCorrect = false;
        let userAvatar = "AO";
        let userName = "Jogador";
        let selectedDifficulty = "easy";
        let selectedGameMode = "classic";
        let userAvatarImg = null;
        let timerInterval;
        let timeLeft = 30;
        let totalPoints = 0;

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            const savedProfile = localStorage.getItem('quizAngolanoProfile');
            if (savedProfile) {
                const profile = JSON.parse(savedProfile);
                userName = profile.name || "Jogador";
                userAvatar = profile.avatar || "AO";
                usernameDisplay.textContent = userName;
                avatarPlaceholder.textContent = userAvatar;
                totalPoints = profile.totalPoints || 0;
                totalPointsElement.textContent = `${totalPoints} pontos`;
                
                if (profile.avatarImg) {
                    userAvatarImg = profile.avatarImg;
                    avatarPlaceholder.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = profile.avatarImg;
                    avatarPlaceholder.appendChild(img);
                }
                
                welcomeScreen.classList.add('hidden');
                menuScreen.classList.remove('hidden');
            }
            
            startBtn.addEventListener('click', () => {
                welcomeScreen.classList.add('hidden');
                profileScreen.classList.remove('hidden');
            });
            
            saveProfileBtn.addEventListener('click', saveProfile);
            
            avatarOptions.forEach(option => {
                option.addEventListener('click', function() {
                    avatarOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    userAvatar = this.getAttribute('data-avatar');
                    userAvatarImg = null;
                    updateAvatarDisplay();
                });
            });
            
            avatarUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        userAvatarImg = event.target.result;
                        updateAvatarDisplay();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            userAvatarBtn.addEventListener('click', () => {
                menuScreen.classList.add('hidden');
                gameScreen.classList.add('hidden');
                profileScreen.classList.remove('hidden');
                showHeader();
            });
            
            playBtn.addEventListener('click', startGame);
            skipBtn.addEventListener('click', useSkip);
            reduceBtn.addEventListener('click', useReduce);
            correctBtn.addEventListener('click', useCorrect);
            restartBtn.addEventListener('click', restartGame);
            menuBtn.addEventListener('click', returnToMenu);
            homeBtnGame.addEventListener('click', returnToMenu);
            
            modeSelectorBtn.addEventListener('click', function() {
                modeModal.style.display = modeModal.style.display === 'block' ? 'none' : 'block';
                this.classList.toggle('expanded');
            });
            
            modeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    modeOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedGameMode = this.getAttribute('data-mode');
                    selectedModeText.textContent = this.textContent;
                    modeModal.style.display = 'none';
                    modeSelectorBtn.classList.remove('expanded');
                });
            });
            
            document.addEventListener('click', function(e) {
                if (!modeSelectorBtn.contains(e.target) && !modeModal.contains(e.target)) {
                    modeModal.style.display = 'none';
                    modeSelectorBtn.classList.remove('expanded');
                }
            });
            
            document.addEventListener('keydown', function(e) {
                if (gameScreen.classList.contains('hidden')) return;
                
                const key = parseInt(e.key);
                if (key >= 1 && key <= 4) {
                    const options = optionsElement.querySelectorAll('.option');
                    if (key <= options.length) {
                        options[key - 1].click();
                    }
                }
            });
        });

        function showHeader() {
            header.classList.remove('hidden');
            mainContainer.classList.remove('game-active');
        }

        function hideHeader() {
            header.classList.add('hidden');
            mainContainer.classList.add('game-active');
        }

        function updateAvatarDisplay() {
            avatarPlaceholder.innerHTML = '';
            
            if (userAvatarImg) {
                const img = document.createElement('img');
                img.src = userAvatarImg;
                avatarPlaceholder.appendChild(img);
            } else {
                avatarPlaceholder.textContent = userAvatar;
            }
        }

        function saveProfile() {
            userName = usernameInput.value.trim() || "Jogador";
            
            if (userAvatarImg) {
                avatarOptions.forEach(opt => opt.classList.remove('selected'));
            } else {
                userAvatar = document.querySelector('.avatar-option.selected').getAttribute('data-avatar');
            }
            
            usernameDisplay.textContent = userName;
            updateAvatarDisplay();
            
            localStorage.setItem('quizAngolanoProfile', JSON.stringify({
                name: userName,
                avatar: userAvatar,
                avatarImg: userAvatarImg,
                totalPoints: totalPoints
            }));
            
            totalPointsElement.textContent = `${totalPoints} pontos`;
            
            profileScreen.classList.add('hidden');
            menuScreen.classList.remove('hidden');
        }

        function startGame() {
            selectedDifficulty = difficultySelect.value;
            currentQuestions = [...questions[selectedDifficulty]];
            shuffleArray(currentQuestions);
            currentQuestions.forEach(q => shuffleOptions(q));
            currentQuestions = currentQuestions.slice(0, 15);
            
            currentQuestionIndex = 0;
            score = 0;
            usedSkip = false;
            usedReduce = false;
            usedCorrect = false;
            
            if (selectedGameMode === 'timed') {
                timeLeft = 30;
                timerElement.style.display = 'block';
            } else {
                timerElement.style.display = 'none';
            }
            
            skipBtn.disabled = false;
            reduceBtn.disabled = false;
            correctBtn.disabled = false;
            
            menuScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            hideHeader();
            
            if (selectedGameMode === 'timed') {
                startTimer();
            }
            
            loadQuestion();
        }

        function startTimer() {
            clearInterval(timerInterval);
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 5) {
                    timerElement.classList.add('warning');
                } else {
                    timerElement.classList.remove('warning');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    if (selectedGameMode === 'timed') {
                        endGame(false);
                    } else {
                        timeLeft = 30;
                        startTimer();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function shuffleOptions(question) {
            const originalAnswer = question.options[question.answer];
            shuffleArray(question.options);
            question.answer = question.options.indexOf(originalAnswer);
        }

        function loadQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame(true);
                return;
            }
            
            const question = currentQuestions[currentQuestionIndex];
            questionElement.textContent = question.question;
            questionNumberElement.textContent = `Pergunta ${currentQuestionIndex + 1} de ${currentQuestions.length}`;
            
            optionsElement.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('div');
                button.className = 'option';
                button.textContent = option;
                button.addEventListener('click', () => checkAnswer(index));
                optionsElement.appendChild(button);
            });
            
            progressBar.style.width = `${(currentQuestionIndex / currentQuestions.length) * 100}%`;
            
            if (selectedGameMode === 'timed') {
                timeLeft = 30;
                startTimer();
            }
        }

        function checkAnswer(selectedIndex) {
            if (selectedGameMode === 'timed') {
                clearInterval(timerInterval);
            }
            
            const question = currentQuestions[currentQuestionIndex];
            const options = optionsElement.querySelectorAll('.option');
            
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedIndex === question.answer) {
                options[selectedIndex].classList.add('correct');
                playCorrectSound();
                score++;
                currentQuestionIndex++;
                
                options[selectedIndex].classList.add('celebrate');
                
                setTimeout(() => {
                    loadQuestion();
                }, 1500);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.answer].classList.add('correct');
                playIncorrectSound();
                
                if (selectedGameMode === 'survival') {
                    setTimeout(() => {
                        endGame(false);
                    }, 2000);
                } else {
                    setTimeout(() => {
                        currentQuestionIndex++;
                        loadQuestion();
                    }, 2000);
                }
            }
        }

        function endGame(victory) {
            clearInterval(timerInterval);
            
            scoreElement.textContent = score + ' / ' + currentQuestions.length;
            
            if (victory) {
                resultTitle.textContent = "Parab√©ns!";
                resultMessage.textContent = "Voc√™ completou o quiz!";
                totalPoints += score;
                
                const profile = JSON.parse(localStorage.getItem('quizAngolanoProfile') || '{}');
                profile.totalPoints = totalPoints;
                localStorage.setItem('quizAngolanoProfile', JSON.stringify(profile));
                totalPointsElement.textContent = `${totalPoints} pontos`;
            } else {
                resultTitle.textContent = "Fim de Jogo";
                resultMessage.textContent = "Tente novamente!";
            }
            
            resultModal.style.display = 'flex';
            showHeader();
        }

        function useSkip() {
            if (usedSkip) return;
            
            usedSkip = true;
            skipBtn.disabled = true;
            currentQuestionIndex++;
            loadQuestion();
        }

        function useReduce() {
            if (usedReduce) return;
            
            usedReduce = true;
            reduceBtn.disabled = true;
            
            const question = currentQuestions[currentQuestionIndex];
            const options = optionsElement.querySelectorAll('.option');
            let incorrectOptions = [];
            
            options.forEach((opt, index) => {
                if (index !== question.answer) {
                    incorrectOptions.push(opt);
                }
            });
            
            shuffleArray(incorrectOptions);
            for (let i = 0; i < 2 && i < incorrectOptions.length; i++) {
                incorrectOptions[i].style.visibility = 'hidden';
            }
        }

        function useCorrect() {
            if (usedCorrect) return;
            
            usedCorrect = true;
            correctBtn.disabled = true;
            
            const question = currentQuestions[currentQuestionIndex];
            const options = optionsElement.querySelectorAll('.option');
            
            options[question.answer].classList.add('correct');
            score++;
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        }

        function playCorrectSound() {
            try {
                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBStztvLJjVcfAQEBAQE=');
                audio.play();
            } catch (e) {
                console.log("Erro ao reproduzir som:", e);
            }
        }

        function playIncorrectSound() {
            try {
                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBStztvLJjVcfAQEBAQE=');
                audio.play();
            } catch (e) {
                console.log("Erro ao reproduzir som:", e);
            }
        }

        function restartGame() {
            resultModal.style.display = 'none';
            startGame();
        }

        function returnToMenu() {
            clearInterval(timerInterval);
            resultModal.style.display = 'none';
            gameScreen.classList.add('hidden');
            menuScreen.classList.remove('hidden');
            showHeader();
        }
    </script>
</body>
</html>